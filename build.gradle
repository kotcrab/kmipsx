buildscript {
  ext.kotlinVersion = "1.6.10"

  repositories {
    mavenCentral()
  }
  dependencies {
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion"
  }
}

group "com.kotcrab.kmipsx"
version "1.0-SNAPSHOT"

apply plugin: "kotlin"
apply plugin: "java-library"
apply plugin: "maven-publish"

repositories {
  mavenCentral()
  maven { url 'https://jitpack.io' }
}

java {
  withSourcesJar()
}

publishing {
  publications {
    mavenJava(MavenPublication) {
      from(components.java)
    }
  }
}

compileKotlin {
  kotlinOptions {
    jvmTarget = "11"
  }
}

compileTestKotlin {
  kotlinOptions {
    jvmTarget = "11"
  }
}

dependencies {
  implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion"
  implementation "org.jetbrains.kotlin:kotlin-reflect:$kotlinVersion"
  api "com.kotcrab.kmips:kmips:1.6"
  implementation "com.github.kotcrab:kio:9111dcc"
  testImplementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion"
  testImplementation "org.junit.jupiter:junit-jupiter-api:5.8.2"
  testImplementation "org.junit.jupiter:junit-jupiter-params:5.8.2"
  testImplementation "org.junit.jupiter:junit-jupiter-engine:5.8.2"
}

test {
  useJUnitPlatform()
}
